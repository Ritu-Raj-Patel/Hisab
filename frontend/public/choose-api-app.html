<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Choose UPI App</title>
    <link rel="icon" href="/favicon.ico" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet" />
    <style>
      :root {
        --primary: #3fe458;
        --background: #f6f8f6;
        --surface: #ffffff;
        --content: #111712;
        --subtle: #648769;
        --border: #f0f4f1;
        --accent: rgba(63, 228, 88, 0.15);
        --shadow: 0 18px 42px rgba(17, 23, 18, 0.08);
      }
      *, *::before, *::after { box-sizing: border-box; }
      body {
        margin: 0;
        min-height: 100vh;
        background: var(--background);
        font-family: 'Inter', sans-serif;
        color: var(--content);
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 32px 16px;
      }
      .card {
        width: min(420px, 100%);
        background: var(--surface);
        border-radius: 32px;
        box-shadow: var(--shadow);
        display: flex;
        flex-direction: column;
        overflow: hidden;
      }
      header {
        display: flex;
        align-items: center;
        gap: 16px;
        padding: 28px 28px 12px;
      }
      header button {
        border: none;
        background: var(--surface);
        width: 44px;
        height: 44px;
        border-radius: 50%;
        box-shadow: inset 0 0 0 1px rgba(17, 23, 18, 0.06);
        font-size: 20px;
        cursor: pointer;
      }
      header h1 {
        margin: 0;
        font-size: 22px;
        font-weight: 600;
      }
      header p {
        margin: 4px 0 0;
        font-size: 13px;
        color: var(--subtle);
      }
      main {
        padding: 0 28px 28px;
        display: flex;
        flex-direction: column;
        gap: 12px;
      }
      .option {
        display: flex;
        align-items: center;
        gap: 16px;
        padding: 16px;
        border-radius: 20px;
        border: 2px solid transparent;
        background: var(--surface);
        box-shadow: inset 0 0 0 1px rgba(17, 23, 18, 0.04);
        cursor: pointer;
        transition: all 0.2s ease;
      }
      .option img,
      .option .placeholder {
        width: 36px;
        height: 36px;
        border-radius: 50%;
      }
      .option .placeholder {
        background: var(--accent);
        display: flex;
        align-items: center;
        justify-content: center;
        color: var(--primary);
        font-size: 18px;
      }
      .option span {
        font-size: 15px;
        font-weight: 600;
      }
      .option--active {
        border-color: var(--primary);
        background: linear-gradient(135deg, rgba(63, 228, 88, 0.16), #ffffff 70%);
        box-shadow: 0 16px 24px rgba(63, 228, 88, 0.18);
        transform: translateY(-2px);
      }
      footer {
        padding: 0 28px 32px;
        display: flex;
        flex-direction: column;
        gap: 12px;
      }
      .btn {
        border: none;
        border-radius: 999px;
        font-size: 15px;
        font-weight: 600;
        padding: 14px;
        cursor: pointer;
        transition: all 0.2s ease;
      }
      .btn--primary {
        background: var(--primary);
        color: #000;
        box-shadow: 0 18px 28px rgba(63, 228, 88, 0.24);
      }
      .btn--primary:disabled {
        background: #d6d9d7;
        color: #7a817a;
        cursor: not-allowed;
        box-shadow: none;
      }
      .btn--ghost {
        background: var(--background);
        color: var(--content);
      }
    </style>
  </head>
  <body>
    <div class="card">
      <header>
        <button type="button" onclick="window.history.back()">&#x2190;</button>
        <div>
          <h1>Choose UPI App</h1>
          <p>
            Select an app to complete payment to
            <span data-member-inline>Rohan</span>
          </p>
        </div>
      </header>
      <main>
        <article class="option" data-upi="gpay">
          <img src="https://lh3.googleusercontent.com/aida-public/AB6AXuBFjEymiRY55XN6JmCAGbdFgo5i4UAs2xAachJcFBRo4nb4usxyeIuJOq-KeMZRTTnPCea6hleAEv0xcFGFzOQoMn0TqhjCK80F0NqQBV2imfWwvK2Q5R18WZcsG-r4kAfX2guNWkHciysERItI8qQYLSqLpU38fkmPDRzw2gUBBPwDDd-k5k3EdRAZnQPRbdiDevbuVwoJglC6rRnQuWnO0f0CZ7paRNf25ZhwvGkXkKDr9v6D3IPv1yy5PDnDUSRtbAXJxtmdXmv8" alt="Google Pay" />
          <span>Pay with Google Pay</span>
        </article>
        <article class="option" data-upi="phonepe">
          <img src="https://lh3.googleusercontent.com/aida-public/AB6AXuA51Yt_culXD64z0Xj80Do3u26iU1qrys9BePRmpijE0h5Fdv7_oPX7_bT9oa8LvAA0IqsvB_Lbf_7kXYLjjM4JcRBwdcRRDl1d9Ym_A3qbsoWWGPG4Qb_1HkkPb3HnsExqAOjfdtkO6a6geUO61wf8uMGhDQ7DHlw530tFvkAN1f1W8GnGCQr-PYzmZNEgOusxn51NIPTbOaY6bXPEo92aKKbpRxn1n0NypjT02yUkJrGakahOFN68CRZBFqj6nAgNEgYaH2jkMEeV" alt="PhonePe" />
          <span>Pay with PhonePe</span>
        </article>
        <article class="option" data-upi="paytm">
          <img src="https://lh3.googleusercontent.com/aida-public/AB6AXuASmwivwkMcvcnbJWkSHiMJT3Ch04TYnjxeyKraBRo8bsjt7AIolTC_97DBRhJCE3z0JPST438-CV2jrypjijAJk1qn75R76dSTPTavzB7jvVlID-mv_OtCV4iDmYxOpNPaGoi5JHteB1_mABCruJhgmasPgBNcDUG8d-TtgfNi2p95q7O9Ah_sZDt-R7nkEF6WAbfxMa1B4Zl_MWmCmI70c_KDpjJRsLUlCgrPZSSHGjGEq9Ws1lt1aeC8hJMHE-YgHPJ4OU_qU5Fw" alt="Paytm" />
          <span>Pay with Paytm</span>
        </article>
        <article class="option" data-upi="custom">
          <div class="placeholder">+</div>
          <span>Add another UPI ID</span>
        </article>
      </main>
      <footer>
        <button class="btn btn--primary" id="continueBtn" type="button" disabled>
          Continue
        </button>
        <button class="btn btn--ghost" type="button" onclick="window.history.back()">
          Cancel
        </button>
      </footer>
    </div>

    <script>
      ;(() => {
        const params = new URLSearchParams(window.location.search)
        const member = params.get('member') || 'Rohan'
        const amount = params.get('amount') || 'â‚¹4,888'
        const preselectedApp = params.get('app')

        document.querySelectorAll('[data-member-inline]').forEach((node) => {
          node.textContent = member
        })

        const options = Array.from(document.querySelectorAll('.option[data-upi]'))
        const continueBtn = document.getElementById('continueBtn')
        let selectedUpi = null

        const applySelection = (appId) => {
          selectedUpi = appId === 'custom' ? null : appId
          options.forEach((node) => {
            node.classList.toggle('option--active', node.dataset.upi === appId)
          })
          continueBtn.disabled = !selectedUpi
        }

        options.forEach((option) => {
          option.addEventListener('click', () => applySelection(option.dataset.upi))
        })

        if (preselectedApp && options.some((opt) => opt.dataset.upi === preselectedApp)) {
          applySelection(preselectedApp)
        }

        continueBtn.addEventListener('click', () => {
          if (!selectedUpi) return
          const url = new URL('/upi-and-cash.html', window.location.origin)
          url.searchParams.set('member', member)
          url.searchParams.set('amount', amount)
          url.searchParams.set('app', selectedUpi)
          window.location.href = url.toString()
        })
      })()
    </script>
  </body>
</html>
